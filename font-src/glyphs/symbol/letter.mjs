'use strict';
import * as _s0_t0 from '../../support/geometry/box.mjs';
import * as _s0_t1 from '../../support/utils.mjs';
import * as _s0_t2 from '../../meta/aesthetics.mjs';
var _s0_t3;
export {
    _s0_t3 as apply
};
var r1_apply, _r1_t0, _r1_t1, _r1_t2, _r1_t3, _r1_t4, _r1_t5, _r1_t6, _r1_t7;
var _r1_t8 = _s0_t0;
var r1_Box = _r1_t8.Box;
var _r1_t9 = _s0_t1;
var r1_mix = _r1_t9.mix;
var r1_linreg = _r1_t9.linreg;
var r1_clamp = _r1_t9.clamp;
var r1_fallback = _r1_t9.fallback;
var _r1_t10 = _s0_t2;
var r1_DesignParameters = _r1_t10.DesignParameters;
var r1_xn$GlyphBlocks$2Lrc2b = [];
_s0_t3 = r1_apply = function () {
    var r267_block, _r267_t4, _r267_t6;
    var _r267_t3 = this;
    var _r267_t0 = r1_xn$GlyphBlocks$2Lrc2b;
    var _r267_t1 = _r267_t0.length;
    var _r267_t2 = 0;
    var _r267_t5 = _r267_t2 < _r267_t1;
    while (_r267_t5) {
        _r267_t6 = (r267_block = _r267_t0[_r267_t2], r267_block(_r267_t3), _r267_t2 = _r267_t2 + 1);
        _r267_t5 = _r267_t2 < _r267_t1;
    }
    return _r267_t6;
};
r1_xn$GlyphBlocks$2Lrc2b.push(function (r271_xn$Capture_Ext$2Lrc2b) {
    var _r271_t0, _r271_t1;
    r271_xn$Capture_Ext$2Lrc2b['$Exec$'].defineGlyphBlock(r271_xn$Capture_Ext$2Lrc2b, 'Symbol-Currency', function (r272_xn$Capture$2Lrc8, r272_xn$ExportCapture$2Lrc4b) {
        var _r272_t7, _r272_t8, _r272_t9, _r272_tag10;
        var _r272_t0 = r272_xn$Capture$2Lrc8;
        var r272_xn$createAndSaveGlyphImpl$2Lrc3c = _r272_t0['$createAndSaveGlyphImpl$'];
        var r272_xn$NamedParameterPair$2Lrc9b = _r272_t0['$NamedParameterPair$'];
        var r272_xn$Exec$2Lrc5 = _r272_t0['$Exec$'];
        var _r272_t1 = r272_xn$Capture$2Lrc8.Metrics;
        var r272_Width = _r272_t1.Width;
        var r272_SB = _r272_t1.SB;
        var r272_CAP = _r272_t1.CAP;
        var r272_SymbolMid = _r272_t1.SymbolMid;
        var r272_O = _r272_t1.O;
        var r272_Hook = _r272_t1.Hook;
        var r272_Stroke = _r272_t1.Stroke;
        var r272_RightSB = _r272_t1.RightSB;
        var r272_Middle = _r272_t1.Middle;
        var r272_ArchDepthA = _r272_t1.ArchDepthA;
        var r272_AdviceStroke = _r272_t1.AdviceStroke;
        var r272_OverlayStroke = _r272_t1.OverlayStroke;
        var r272_HSwToV = _r272_t1.HSwToV;
        var _r272_t2 = r272_xn$Capture$2Lrc8.SpiroFns;
        var r272_g4 = _r272_t2.g4;
        var r272_flat = _r272_t2.flat;
        var r272_curl = _r272_t2.curl;
        var r272_widths = _r272_t2.widths;
        var r272_dispiro = _r272_t2.dispiro;
        var _r272_t3 = r272_xn$Capture$2Lrc8.BooleFns;
        var r272_union = _r272_t3.union;
        var _r272_t4 = r272_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore.CommonShapes.resolve();
        var r272_OShape = _r272_t4.OShape;
        var r272_HBar = _r272_t4.HBar;
        var r272_hookstart = _r272_t4.hookstart;
        var _r272_t5 = r272_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore['Common-Derivatives'].resolve();
        var _r272_t6 = r272_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore['Letter-Shared-Shapes'].resolve();
        var r272_LetterBarOverlay = _r272_t6.LetterBarOverlay;
        r272_xn$createAndSaveGlyphImpl$2Lrc3c('currency', 164, function () {
            var r278_angle, _r278_t3;
            var _r278_t2 = this;
            var r278_currentGlyph = _r278_t2;
            var r278_sw = r272_AdviceStroke(3.5);
            var r278_radius = (r272_RightSB - r272_SB) / 2;
            r278_currentGlyph.include(r272_OShape(r272_SymbolMid + r278_radius * 0.9, r272_SymbolMid - r278_radius * 0.9, r272_Middle - r278_radius * 0.9, r272_Middle + r278_radius * 0.9, r278_sw));
            var _r278_t0 = 0;
            var _r278_t1 = 4;
            var r278_j = _r278_t0;
            while (r278_j < _r278_t1) {
                r278_angle = Math.PI * (r278_j / 2 + 1 / 4);
                r278_currentGlyph.include(r272_dispiro(r272_widths.center(r278_sw), r272_flat(r272_Middle + r278_radius * 0.87 * Math.cos(r278_angle), r272_SymbolMid + r278_radius * 0.87 * Math.sin(r278_angle)), r272_curl(r272_Middle + r278_radius * Math.sqrt(2) * Math.cos(r278_angle), r272_SymbolMid + r278_radius * Math.sqrt(2) * Math.sin(r278_angle))));
                r278_j = r278_j + 1;
            }
            return void 0;
        });
        return function () {
            var r283_xBarLeft = r1_mix(r272_SB, r272_RightSB, 0.2) - r272_Stroke * 0.1;
            var r283_BaseShape = function () {
                var _r284_t0, _r284_t1;
                return function () {
                    var _r286_t1;
                    var _r286_t0 = this;
                    var r286_currentGlyph = _r286_t0;
                    var r286_xBarLeft = r1_mix(r272_SB, r272_RightSB, 0.2) - r272_Stroke * 0.1;
                    var r286_hookEndX = Math.max(r286_xBarLeft + r272_HSwToV(2.25 * r272_Stroke), r1_mix(r272_SB, r272_RightSB, 0.95));
                    r286_currentGlyph.include(r272_union(r272_dispiro(r272_g4(r286_hookEndX, r272_CAP - r272_Hook * 0.85, r272_widths.lhs()), r272_hookstart(r272_CAP - r272_O, new r272_xn$NamedParameterPair$2Lrc9b('tight', true)), r272_flat(r286_xBarLeft, r272_CAP - r272_ArchDepthA * 0.75), r272_curl(r286_xBarLeft, r1_mix(r272_Stroke, r272_CAP, 0.3)), r272_g4(r272_SB, r272_Stroke)), r272_HBar.b(r272_SB, r272_RightSB, 0)));
                    return void 0;
                };
            };
            r272_xn$createAndSaveGlyphImpl$2Lrc3c('currency/sterlingSign', 163, function () {
                var _r291_t1;
                var _r291_t0 = this;
                var r291_currentGlyph = _r291_t0;
                r291_currentGlyph.setWidth(r272_Width);
                r291_currentGlyph.include(r283_BaseShape());
                r291_currentGlyph.include(r272_LetterBarOverlay.l(r283_xBarLeft, r272_CAP * 0.5));
                return void 0;
            });
            return r272_xn$createAndSaveGlyphImpl$2Lrc3c('currency/liraSymbolSign', 8356, function () {
                var _r297_t1;
                var _r297_t0 = this;
                var r297_currentGlyph = _r297_t0;
                r297_currentGlyph.setWidth(r272_Width);
                r297_currentGlyph.include(r283_BaseShape());
                r297_currentGlyph.include(r272_LetterBarOverlay.l(r283_xBarLeft, r272_CAP * 0.37));
                r297_currentGlyph.include(r272_LetterBarOverlay.l(r283_xBarLeft, r272_CAP * 0.6 - r272_OverlayStroke * 0.25));
                return void 0;
            });
        }();
    });
    return void 0;
});
r1_xn$GlyphBlocks$2Lrc2b.push(function (r304_xn$Capture_Ext$2Lrc2b) {
    var _r304_t0, _r304_t1;
    r304_xn$Capture_Ext$2Lrc2b['$Exec$'].defineGlyphBlock(r304_xn$Capture_Ext$2Lrc2b, 'Symbol-Currency-Letter-Derived', function (r305_xn$Capture$2Lrc8, r305_xn$ExportCapture$2Lrc4b) {
        var _r305_t6, _r305_t7;
        var _r305_t0 = r305_xn$Capture$2Lrc8;
        var r305_xn$createAndSaveGlyphImpl$2Lrc3c = _r305_t0['$createAndSaveGlyphImpl$'];
        var r305_xn$NamedParameterPair$2Lrc9b = _r305_t0['$NamedParameterPair$'];
        var r305_xn$Exec$2Lrc5 = _r305_t0['$Exec$'];
        var r305_para = _r305_t0.para;
        var r305_DivFrame = _r305_t0.DivFrame;
        var _r305_t1 = r305_xn$Capture$2Lrc8.Metrics;
        var r305_Width = _r305_t1.Width;
        var r305_SB = _r305_t1.SB;
        var r305_CAP = _r305_t1.CAP;
        var r305_HalfStroke = _r305_t1.HalfStroke;
        var r305_RightSB = _r305_t1.RightSB;
        var r305_Middle = _r305_t1.Middle;
        var r305_AdviceStroke2 = _r305_t1.AdviceStroke2;
        var r305_OverlayStroke = _r305_t1.OverlayStroke;
        var r305_HSwToV = _r305_t1.HSwToV;
        var _r305_t2 = r305_xn$Capture$2Lrc8.SpiroFns;
        var _r305_t3 = r305_xn$Capture$2Lrc8.BooleFns;
        var r305_union = _r305_t3.union;
        var r305_intersection = _r305_t3.intersection;
        var _r305_t4 = r305_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore.CommonShapes.resolve();
        var r305_Rect = _r305_t4.Rect;
        var r305_HBar = _r305_t4.HBar;
        var r305_HOverlayBar = _r305_t4.HOverlayBar;
        var r305_ExtLineCenter = _r305_t4.ExtLineCenter;
        var _r305_t5 = r305_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore['Common-Derivatives'].resolve();
        var r305_xn$derivecomposites$7Hrq = _r305_t5['derive-composites'];
        r305_xn$derivecomposites$7Hrq('currency/colonSign', 8353, 'C', 'dblLongSlash');
        r305_xn$derivecomposites$7Hrq('currency/millSign', 8357, 'm', 'shortSlash');
        r305_xn$createAndSaveGlyphImpl$2Lrc3c('currency/overlay/NS', null, function () {
            var _r310_t1;
            var _r310_t0 = this;
            var r310_currentGlyph = _r310_t0;
            var r310_sw = Math.min(r305_OverlayStroke, r305_AdviceStroke2(2, 4, r305_CAP));
            var r310_gap = Math.max(r305_CAP / 8, r310_sw / 2);
            r310_currentGlyph.include(r305_HBar.b(r1_mix(0, r305_SB, 0.5), r1_mix(r305_Width, r305_RightSB, 0.5), r305_CAP / 2 + r310_gap / 2, r310_sw));
            r310_currentGlyph.include(r305_HBar.t(r1_mix(0, r305_SB, 0.5), r1_mix(r305_Width, r305_RightSB, 0.5), r305_CAP / 2 - r310_gap / 2, r310_sw));
            return void 0;
        });
        r305_xn$derivecomposites$7Hrq('currency/nairaSign', 8358, 'currency/nairaSignBase', 'currency/overlay/NS');
        r305_xn$derivecomposites$7Hrq('currency/hryvniaSign', 8372, 'revS', 'currency/overlay/NS');
        r305_xn$createAndSaveGlyphImpl$2Lrc3c('currency/overlay/W', null, function () {
            var _r315_t1;
            var _r315_t0 = this;
            var r315_currentGlyph = _r315_t0;
            var r315_df = r305_DivFrame(r305_para.diversityM, 3);
            r315_currentGlyph.include(r305_HOverlayBar(r1_mix(r305_SB, 0, 0.7), r1_mix(r315_df.rightSB, r315_df.width, 0.7), r305_CAP * 0.6));
            r315_currentGlyph.include(r305_HOverlayBar(r1_mix(r305_SB, 0, 0.7), r1_mix(r315_df.rightSB, r315_df.width, 0.7), r305_CAP * 0.35));
            return void 0;
        });
        r305_xn$derivecomposites$7Hrq('currency/wonSign', 8361, 'W', 'currency/overlay/W');
        r305_xn$derivecomposites$7Hrq('currency/dongSign', 8363, 'dcroat', 'sbRsbUnderlineBelow');
        r305_xn$derivecomposites$7Hrq('currency/kipSign', 8365, 'K', 'hStrike');
        r305_xn$createAndSaveGlyphImpl$2Lrc3c('currency/tugrikOverride', null, function () {
            var _r320_t1;
            var _r320_t0 = this;
            var r320_currentGlyph = _r320_t0;
            var r320_l = r1_mix(r305_Middle - r305_HSwToV(r305_HalfStroke), r305_SB, 0.75);
            var r320_r = r1_mix(r305_Middle + r305_HSwToV(r305_HalfStroke), r305_RightSB, 0.75);
            var r320_kSlope = 0.05;
            r320_currentGlyph.setWidth(0);
            r320_currentGlyph.setMarkAnchor('overlay', r1_mix(r320_l, r320_r, 0.5), r305_CAP * 0.5);
            r320_currentGlyph.include(r305_intersection(r305_Rect(0, r305_CAP, r320_l, r320_r), r305_union(r305_ExtLineCenter(4, r305_OverlayStroke, r320_l, r305_CAP * (0.6 - r320_kSlope), r320_r, r305_CAP * (0.6 + r320_kSlope)), r305_ExtLineCenter(4, r305_OverlayStroke, r320_l, r305_CAP * (0.35 - r320_kSlope), r320_r, r305_CAP * (0.35 + r320_kSlope)))));
            return void 0;
        });
        r305_xn$derivecomposites$7Hrq('currency/tugrikSign', 8366, 'T', 'currency/tugrikOverride');
        r305_xn$derivecomposites$7Hrq('currency/guaraniSign', 8370, 'G', 'longVStrokeOver');
        return r305_xn$derivecomposites$7Hrq('currency/cediSign', 8373, 'C', 'longVStrokeOver');
    });
    return void 0;
});
r1_xn$GlyphBlocks$2Lrc2b.push(function (r326_xn$Capture_Ext$2Lrc2b) {
    var _r326_t0, _r326_t1;
    r326_xn$Capture_Ext$2Lrc2b['$Exec$'].defineGlyphBlock(r326_xn$Capture_Ext$2Lrc2b, 'Symbol-Letter', function (r327_xn$Capture$2Lrc8, r327_xn$ExportCapture$2Lrc4b) {
        var _r327_t9, _r327_t10, _r327_t11, _r327_tag12, _r327_t13, _r327_tag14;
        var _r327_t0 = r327_xn$Capture$2Lrc8;
        var r327_xn$createAndSaveGlyphImpl$2Lrc3c = _r327_t0['$createAndSaveGlyphImpl$'];
        var r327_xn$NamedParameterPair$2Lrc9b = _r327_t0['$NamedParameterPair$'];
        var r327_xn$Exec$2Lrc5 = _r327_t0['$Exec$'];
        var r327_para = _r327_t0.para;
        var r327_MarkSet = _r327_t0.MarkSet;
        var r327_DivFrame = _r327_t0.DivFrame;
        var _r327_t1 = r327_xn$Capture$2Lrc8.Metrics;
        var r327_Width = _r327_t1.Width;
        var r327_SB = _r327_t1.SB;
        var r327_CAP = _r327_t1.CAP;
        var r327_XH = _r327_t1.XH;
        var r327_Descender = _r327_t1.Descender;
        var r327_TanSlope = _r327_t1.TanSlope;
        var r327_Upward = _r327_t1.Upward;
        var r327_Downward = _r327_t1.Downward;
        var r327_O = _r327_t1.O;
        var r327_Hook = _r327_t1.Hook;
        var r327_SHook = _r327_t1.SHook;
        var r327_ArchDepth = _r327_t1.ArchDepth;
        var r327_Stroke = _r327_t1.Stroke;
        var r327_LongJut = _r327_t1.LongJut;
        var r327_AccentStackOffset = _r327_t1.AccentStackOffset;
        var r327_HalfStroke = _r327_t1.HalfStroke;
        var r327_RightSB = _r327_t1.RightSB;
        var r327_Middle = _r327_t1.Middle;
        var r327_DotRadius = _r327_t1.DotRadius;
        var r327_ArchDepthA = _r327_t1.ArchDepthA;
        var r327_ArchDepthB = _r327_t1.ArchDepthB;
        var r327_AdviceStroke = _r327_t1.AdviceStroke;
        var r327_ArchDepthAOf = _r327_t1.ArchDepthAOf;
        var r327_ArchDepthBOf = _r327_t1.ArchDepthBOf;
        var r327_HSwToV = _r327_t1.HSwToV;
        var _r327_t2 = r327_xn$Capture$2Lrc8.SpiroFns;
        var r327_g4 = _r327_t2.g4;
        var r327_g2 = _r327_t2.g2;
        var r327_corner = _r327_t2.corner;
        var r327_flat = _r327_t2.flat;
        var r327_curl = _r327_t2.curl;
        var r327_straight = _r327_t2.straight;
        var r327_widths = _r327_t2.widths;
        var r327_heading = _r327_t2.heading;
        var r327_alsoThru = _r327_t2.alsoThru;
        var r327_bezControls = _r327_t2.bezControls;
        var r327_quadControls = _r327_t2.quadControls;
        var r327_archv = _r327_t2.archv;
        var r327_arcvh = _r327_t2.arcvh;
        var r327_dispiro = _r327_t2.dispiro;
        var r327_xn$spirooutline$1aao = _r327_t2['spiro-outline'];
        var r327_CursiveBuilder = _r327_t2.CursiveBuilder;
        var _r327_t3 = r327_xn$Capture$2Lrc8.BooleFns;
        var r327_union = _r327_t3.union;
        var r327_intersection = _r327_t3.intersection;
        var r327_difference = _r327_t3.difference;
        var _r327_t4 = r327_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore.CommonShapes.resolve();
        var r327_Rect = _r327_t4.Rect;
        var r327_DotAt = _r327_t4.DotAt;
        var r327_OShapeOutline = _r327_t4.OShapeOutline;
        var r327_HSerif = _r327_t4.HSerif;
        var r327_HBar = _r327_t4.HBar;
        var r327_VBar = _r327_t4.VBar;
        var r327_hookend = _r327_t4.hookend;
        var r327_MaskAbove = _r327_t4.MaskAbove;
        var _r327_t5 = r327_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore['Common-Derivatives'].resolve();
        var r327_alias = _r327_t5.alias;
        var r327_turned = _r327_t5.turned;
        var r327_HalfAdvance = _r327_t5.HalfAdvance;
        var _r327_t6 = r327_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore['Letter-Latin-X'].resolve();
        var r327_XStrand = _r327_t6.XStrand;
        var _r327_t7 = r327_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore['Symbol-Geometric-Shared'].resolve();
        var r327_UnicodeWeightGrade = _r327_t7.UnicodeWeightGrade;
        var _r327_t8 = r327_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore['Letter-Shared-Shapes'].resolve();
        var r327_FlatHookDepth = _r327_t8.FlatHookDepth;
        r327_alias('eulerConst', 8455, 'latn/Epsilon');
        r327_alias('scruple', 8456, 'cyrl/E');
        r327_xn$createAndSaveGlyphImpl$2Lrc3c('ell', 8467, function () {
            var _r335_t1;
            var _r335_t0 = this;
            var r335_currentGlyph = _r335_t0;
            r335_currentGlyph.include(r327_MarkSet.b());
            var r335_fine = r327_AdviceStroke(3.5);
            var r335_radius = Math.max(r335_fine, r327_Width * 0.15);
            var r335_middle = r327_Middle - r335_fine / 2;
            var r335_left = r335_middle - r335_radius * 1.25;
            var r335_right = r335_middle + r335_radius * 1.5;
            var r335_ada = r327_ArchDepthA * 0.6;
            var r335_adb = r327_ArchDepthB * 0.6;
            r335_currentGlyph.include(r327_dispiro(r327_widths.center(r335_fine), r327_g2(r335_left, r1_mix(0, r327_CAP, 0.33)), r327_quadControls(1, 0.6), r327_g2(r335_right, r1_mix(0, r327_CAP, 0.8)), r327_arcvh(), r327_g2(r1_mix(r335_middle, r335_right, 0.5), r327_CAP - r327_O - r335_fine / 2), r327_archv(), r327_flat(r335_middle, r327_CAP - r335_ada), r327_curl(r335_middle, r327_ArchDepthB * 0.5 + r335_fine / 2), r327_hookend(r327_O + r335_fine / 2), r327_g2(r335_middle + r335_radius * 2, r327_SHook)));
            return void 0;
        });
        r327_xn$createAndSaveGlyphImpl$2Lrc3c('weierstrassP', 8472, function () {
            var _r340_t1;
            var _r340_t0 = this;
            var r340_currentGlyph = _r340_t0;
            r340_currentGlyph.include(r327_MarkSet.p());
            var r340_thick = r327_AdviceStroke(2.75);
            var r340_extSw = r327_AdviceStroke(4);
            var r340_fine = r327_AdviceStroke(5.5);
            var r340_tip = r327_AdviceStroke(6.5);
            var r340_bowl = r327_CursiveBuilder(new r1_Box(r327_XH, 0, r327_SB, r327_RightSB), r340_thick);
            var r340_extn = r327_CursiveBuilder(new r1_Box(r327_XH, r327_Descender, r327_SB, r1_mix(r327_SB, r327_RightSB, 0.3)), r340_extSw);
            var r340_bowT = r340_bowl.withSw(r340_tip);
            var r340_extF = r340_extn.withSw(r340_fine);
            var r340_extT = r340_extn.withSw(r340_tip);
            r340_currentGlyph.include(r327_dispiro(r327_g2(r340_extT.x(0.25, 0.5, 0), r340_extT.y(1, 0, 0), r340_extT.s(0.5)), r327_g2.down.mid(r340_extF.x(0, 0, r327_O), r340_extF.y(0.8, 0, 0), r340_extF.s(0)), r327_alsoThru.g2(0.5, 0.5, r340_extn.s(0.5)), r327_g2.down.mid(r340_extF.x(1, 0.4, -r327_O), r340_extn.y(0.2, -r327_TanSlope, 0), r340_extn.s(r340_fine / r340_extSw)), r327_arcvh(), r327_g2(r340_extF.xAB(0.5, 0.2, 0), r340_extF.y(0, 0, r327_O), r340_extF.s(1)), r327_archv(), r327_g2.up.mid(r340_extF.x(0, 0, r327_O), r340_extF.y(0.2, 0, 0), r340_extF.s(1)), r327_bezControls(0, 0.5, 0.4, 1, 16), r327_g2(r340_bowl.xAT(0.7, -0.3, 0), r340_bowl.y(1, 0, -r327_O), r340_bowl.s(1)), r327_archv(), r327_straight.down.mid(r340_bowl.x(1, 0, -r327_O), r340_bowl.y(0.5, 0, 0)), r327_arcvh(), r327_g2(r340_bowl.xAB(0.7, -0.2, 0), r340_bowl.y(0, 0, r327_O)), r327_archv(), r327_g2(r340_bowT.x(0.4, 0, 0), r340_bowT.y(0.3, 0, 0), r340_bowT.s(1, r327_Upward))));
            return void 0;
        });
        r327_alias('Ohm', 8486, 'grek/Omega');
        r327_turned('Mho', 8487, 'Ohm', r327_Middle, r327_CAP / 2);
        r327_turned('turniota', 8489, 'grek/iota', r327_HalfAdvance, r327_XH / 2);
        r327_alias('letterLike/kelvinSign', 8490, 'K');
        r327_xn$createAndSaveGlyphImpl$2Lrc3c('estimated', 8494, function () {
            var _r345_t1;
            var _r345_t0 = this;
            var r345_currentGlyph = _r345_t0;
            r345_currentGlyph.include(r327_MarkSet.capital());
            var r345_fineArc = r327_CAP * 0.03;
            var r345_fineBar = r327_CAP * 0.0278;
            var r345_thickBarWidth = 0.183 / Math.sqrt(0.9) * Math.sqrt(r327_CAP * (r327_RightSB - r327_SB));
            var r345_smA = r327_ArchDepthAOf(r327_ArchDepth * (r327_CAP / r327_XH), r327_Width);
            var r345_smB = r327_ArchDepthBOf(r327_ArchDepth * (r327_CAP / r327_XH), r327_Width);
            r345_currentGlyph.include(r327_union(r327_HBar.b(r327_SB, r327_RightSB, r327_CAP * 0.5, r345_fineBar), r327_difference(r327_union(r327_difference(r327_OShapeOutline(r327_CAP, 0, r327_SB, r327_RightSB, r345_fineArc, r345_smA, r345_smB), r327_OShapeOutline(r327_CAP - r345_fineArc, 0 + r345_fineArc, r1_mix(r327_SB, r327_RightSB, 0.077), r1_mix(r327_RightSB, r327_SB, 0.077), r345_fineArc, r345_smA - r345_fineArc, r345_smB - r345_fineArc)), r327_intersection(r327_OShapeOutline.NoOvershoot(r327_CAP, 0, r327_SB, r327_RightSB, r345_fineArc, r345_smA, r345_smB), r327_union(r327_Rect(r327_CAP, 0, r327_SB, r327_SB + r345_thickBarWidth), r327_Rect(r327_CAP, r327_CAP * 0.5, r327_RightSB - r345_thickBarWidth, r327_RightSB)))), r327_Rect(r327_CAP * 0.5, r327_CAP * 0.208, r327_Middle, r327_Width))));
            return void 0;
        });
        r327_xn$createAndSaveGlyphImpl$2Lrc3c('mathAleph', 8501, function () {
            var _r350_t1;
            var _r350_t0 = this;
            var r350_currentGlyph = _r350_t0;
            r350_currentGlyph.include(r327_MarkSet.capital());
            var r350_p = 0.3;
            r350_currentGlyph.include(r327_XStrand(true, false, r327_SB, r327_CAP, r327_RightSB, 0, 0.1, 0.4, 0.28));
            r350_currentGlyph.include(r327_intersection(r327_dispiro(r327_widths.rhs(), r327_g4.down.start(r327_RightSB, r327_CAP), r327_g4(r1_mix(r327_SB, r327_RightSB, r350_p), 0)), r327_xn$spirooutline$1aao(r327_corner(r327_SB, r327_CAP), r327_corner(r327_RightSB, r327_CAP), r327_corner(r327_RightSB, 0))));
            r350_currentGlyph.include(r327_intersection(r327_dispiro(r327_widths.rhs(), r327_g4.up.start(r327_SB, 0), r327_g4(r1_mix(r327_SB, r327_RightSB, 1 - r350_p), r327_CAP)), r327_xn$spirooutline$1aao(r327_corner(r327_SB, 0), r327_corner(r327_RightSB, 0), r327_corner(r327_SB, r327_CAP))));
            return void 0;
        });
        r327_xn$createAndSaveGlyphImpl$2Lrc3c('mathBeth', 8502, function () {
            var _r357_t1;
            var _r357_t0 = this;
            var r357_currentGlyph = _r357_t0;
            r357_currentGlyph.include(r327_MarkSet.capital());
            var r357_pX = 0.7;
            var r357_pY = 0.8;
            var r357_turnX = r1_mix(r327_SB, r327_RightSB, r357_pY);
            r357_currentGlyph.include(r327_dispiro(r327_widths.rhs(), r327_flat(r327_SB, r327_CAP), r327_curl(Math.min(r357_turnX - r327_HSwToV(1.5 * r327_Stroke), r1_mix(r327_SB, r357_turnX, r357_pX)), r327_CAP), r327_archv(), r327_flat(r357_turnX, Math.min(r327_CAP - r327_Stroke * 1.5, r1_mix(0, r327_CAP, r357_pY))), r327_curl(r357_turnX, 0)));
            r357_currentGlyph.include(r327_HBar.b(r327_SB, r327_RightSB, 0));
            return void 0;
        });
        r327_xn$createAndSaveGlyphImpl$2Lrc3c('mathGimel', 8503, function () {
            var _r363_t1;
            var _r363_t0 = this;
            var r363_currentGlyph = _r363_t0;
            var r363_df = r363_currentGlyph.include(r327_DivFrame(r327_para.diversityF));
            var r363_hd = r327_FlatHookDepth(r363_df);
            var r363_xStart = r1_mix(r363_df.leftSB, r363_df.rightSB, 0.1);
            var r363_xVertBar = r1_mix(r363_df.leftSB, r363_df.rightSB, 0.625) + r327_HSwToV(0.375 * r327_Stroke);
            var r363_yBranch = r1_mix(0, r327_CAP, 0.5);
            r363_currentGlyph.include(r363_df.markSet.capital());
            r363_currentGlyph.include(r327_intersection(r327_MaskAbove(0), r327_dispiro(r327_widths.rhs(), r327_flat(r363_xStart, r327_CAP), r327_curl(Math.max(r363_xStart + 0.01, r363_xVertBar - r363_hd.x), r327_CAP), r327_archv(), r327_flat(r363_xVertBar, r327_CAP - r363_hd.y), r327_curl(r363_xVertBar, r363_yBranch), r327_flat(r363_df.rightSB, 0), r327_curl(r1_mix(r363_xVertBar, r363_df.rightSB, 2), r1_mix(r363_yBranch, 0, 2)))));
            r363_currentGlyph.include(r327_dispiro(r327_widths.rhs(), r327_g4.down.start(r363_xVertBar, r363_yBranch), r327_g4(r363_df.leftSB + r327_HSwToV(0.2 * r327_Stroke), r327_O)));
            return void 0;
        });
        r327_xn$createAndSaveGlyphImpl$2Lrc3c('mathDalet', 8504, function () {
            var _r370_t1;
            var _r370_t0 = this;
            var r370_currentGlyph = _r370_t0;
            r370_currentGlyph.include(r327_MarkSet.capital());
            r370_currentGlyph.include(r327_HBar.t(r327_SB, r327_RightSB, r327_CAP));
            r370_currentGlyph.include(r327_VBar.r(r1_mix(r327_SB, r327_RightSB, 0.75), 0, r327_CAP));
            return void 0;
        });
        r327_xn$createAndSaveGlyphImpl$2Lrc3c('informationSource', 8505, function () {
            var _r376_t1;
            var _r376_t0 = this;
            var r376_currentGlyph = _r376_t0;
            r376_currentGlyph.include(r327_MarkSet.b());
            var r376_sw = r327_UnicodeWeightGrade(9, 1);
            r376_currentGlyph.include(r327_VBar.m(r327_Middle, 0, r327_XH, r376_sw));
            r376_currentGlyph.include(r327_HSerif.lt(r327_Middle - r327_HSwToV(0.5 * r376_sw), r327_XH, r327_LongJut / 2));
            r376_currentGlyph.include(r327_HSerif.lb(r327_Middle - r327_HSwToV(0.5 * r376_sw), 0, r327_LongJut / 2));
            r376_currentGlyph.include(r327_HSerif.rb(r327_Middle + r327_HSwToV(0.5 * r376_sw), 0, r327_LongJut / 2));
            r376_currentGlyph.include(r327_DotAt(r327_Middle, r327_XH + r327_AccentStackOffset, r327_DotRadius * r376_sw / r327_Stroke));
            return void 0;
        });
        r327_turned('turnG/sansSerif', 8513, 'G/sansSerif', r327_Middle, r327_CAP / 2);
        r327_turned('turnL/sansSerif', 8514, 'L/sansSerif', r327_Middle, r327_CAP / 2);
        r327_turned('revL/sansSerif', 8515, 'grek/Gamma/sansSerif', r327_Middle, r327_CAP / 2);
        r327_turned('turnY/sansSerif', 8516, 'Y/sansSerif', r327_Middle, r327_CAP / 2);
        r327_turned('turnAmpersand', 8523, 'ampersand', r327_Middle, r327_CAP / 2);
        (function () {
            var r384_TironianEtTopBarShape = function (r385_y) {
                var _r385_t0, _r385_t1;
                return r327_intersection(r327_Rect(r385_y - r327_O, 0, r327_SB, r327_RightSB), r327_dispiro(r327_widths.rhs(), r327_g4(r327_SB + r327_O, r385_y - r327_O), r327_g4(r327_Middle, r385_y + r327_O), r327_g4(r327_RightSB, r385_y - r327_O)));
            };
            r327_xn$createAndSaveGlyphImpl$2Lrc3c('tironianEt', 8266, function () {
                var _r388_t1;
                var _r388_t0 = this;
                var r388_currentGlyph = _r388_t0;
                r388_currentGlyph.include(r384_TironianEtTopBarShape(r327_XH));
                r388_currentGlyph.include(r327_intersection(r327_Rect(r327_XH - r327_O - r327_Stroke, -r327_Stroke, r327_SB, r327_RightSB), r327_dispiro(r327_widths.rhs(), r327_flat(r327_RightSB, r327_XH - r327_O - r327_Stroke), r327_curl(r327_Middle + r327_HSwToV(0.125 * r327_Stroke), r327_O))));
                return void 0;
            });
            return r327_xn$createAndSaveGlyphImpl$2Lrc3c('TironianEt', 11858, function () {
                var _r393_t1;
                var _r393_t0 = this;
                var r393_currentGlyph = _r393_t0;
                r393_currentGlyph.include(r384_TironianEtTopBarShape(r327_CAP));
                r393_currentGlyph.include(r327_dispiro(r327_widths.rhs(), r327_flat(r327_RightSB, r327_CAP - r327_HalfStroke, r327_heading(r327_Downward)), r327_curl(r327_RightSB, r327_ArchDepthB), r327_hookend(r327_O), r327_g4(r327_SB, r327_Hook)));
                return void 0;
            });
        }());
        return function () {
            return r327_xn$createAndSaveGlyphImpl$2Lrc3c('romanFiftyEarlyForm', 8582, function () {
                var _r400_t1;
                var _r400_t0 = this;
                var r400_currentGlyph = _r400_t0;
                r400_currentGlyph.include(r327_MarkSet.capital());
                r400_currentGlyph.include(r327_VBar.m(r327_Middle, 0, r327_CAP));
                r400_currentGlyph.include(r327_dispiro(r327_flat(r327_Middle - r327_HSwToV(r327_HalfStroke), 0, r327_widths.rhs(r327_AdviceStroke(3))), r327_curl(r327_SB + r327_O, r1_mix(0, r327_CAP, 0.375))));
                r400_currentGlyph.include(r327_dispiro(r327_flat(r327_Middle + r327_HSwToV(r327_HalfStroke), 0, r327_widths.lhs(r327_AdviceStroke(3))), r327_curl(r327_RightSB - r327_O, r1_mix(0, r327_CAP, 0.375))));
                return void 0;
            });
        }();
    });
    return void 0;
});
r1_xn$GlyphBlocks$2Lrc2b.push(function (r407_xn$Capture_Ext$2Lrc2b) {
    var _r407_t0, _r407_t1;
    r407_xn$Capture_Ext$2Lrc2b['$Exec$'].defineGlyphBlock(r407_xn$Capture_Ext$2Lrc2b, 'Symbol-Cyrl-Thousands', function (r408_xn$Capture$2Lrc8, r408_xn$ExportCapture$2Lrc4b) {
        var _r408_t6, _r408_t7;
        var _r408_t0 = r408_xn$Capture$2Lrc8;
        var r408_xn$createAndSaveGlyphImpl$2Lrc3c = _r408_t0['$createAndSaveGlyphImpl$'];
        var r408_xn$NamedParameterPair$2Lrc9b = _r408_t0['$NamedParameterPair$'];
        var r408_xn$Exec$2Lrc5 = _r408_t0['$Exec$'];
        var _r408_t1 = r408_xn$Capture$2Lrc8.Metrics;
        var r408_SB = _r408_t1.SB;
        var r408_XH = _r408_t1.XH;
        var r408_Descender = _r408_t1.Descender;
        var r408_RightSB = _r408_t1.RightSB;
        var r408_AdviceStroke = _r408_t1.AdviceStroke;
        var _r408_t2 = r408_xn$Capture$2Lrc8.SpiroFns;
        var _r408_t3 = r408_xn$Capture$2Lrc8.BooleFns;
        var _r408_t4 = r408_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore.CommonShapes.resolve();
        var r408_ExtLineCenter = _r408_t4.ExtLineCenter;
        var _r408_t5 = r408_xn$Capture$2Lrc8['$Exec$'].glyphBlockStore['Common-Derivatives'].resolve();
        return r408_xn$createAndSaveGlyphImpl$2Lrc3c('cyrlThousandsSign', 1154, function () {
            var _r413_t1;
            var _r413_t0 = this;
            var r413_currentGlyph = _r413_t0;
            var r413_fine = r408_AdviceStroke(3);
            r413_currentGlyph.include(r408_ExtLineCenter(-0.1, r413_fine, r408_SB, r408_Descender, r408_RightSB, r408_XH));
            r413_currentGlyph.include(r408_ExtLineCenter(-0.1, r413_fine, r1_mix(r408_SB, r408_RightSB, 0.1), r1_mix(r408_Descender, r408_XH, 0.8), r1_mix(r408_SB, r408_RightSB, 1.1), r1_mix(r408_Descender, r408_XH, 0.5)));
            r413_currentGlyph.include(r408_ExtLineCenter(-0.1, r413_fine, r1_mix(r408_SB, r408_RightSB, -0.1), r1_mix(r408_Descender, r408_XH, 0.5), r1_mix(r408_SB, r408_RightSB, 0.9), r1_mix(r408_Descender, r408_XH, 0.2)));
            return void 0;
        });
    });
    return void 0;
});
r1_xn$GlyphBlocks$2Lrc2b.push(function (r419_xn$Capture_Ext$2Lrc2b) {
    var _r419_t0, _r419_t1;
    r419_xn$Capture_Ext$2Lrc2b['$Exec$'].defineGlyphBlock(r419_xn$Capture_Ext$2Lrc2b, 'Symbol-Letter-Phonetic', function (r420_xn$Capture$2Lrc8, r420_xn$ExportCapture$2Lrc4b) {
        var _r420_t4, _r420_t5;
        var _r420_t0 = r420_xn$Capture$2Lrc8;
        var r420_xn$createAndSaveGlyphImpl$2Lrc3c = _r420_t0['$createAndSaveGlyphImpl$'];
        var r420_xn$NamedParameterPair$2Lrc9b = _r420_t0['$NamedParameterPair$'];
        var r420_xn$Exec$2Lrc5 = _r420_t0['$Exec$'];
        var r420_MarkSet = _r420_t0.MarkSet;
        var _r420_t1 = r420_xn$Capture$2Lrc8.Metrics;
        var r420_SB = _r420_t1.SB;
        var r420_XH = _r420_t1.XH;
        var r420_Upward = _r420_t1.Upward;
        var r420_Downward = _r420_t1.Downward;
        var r420_OX = _r420_t1.OX;
        var r420_RightSB = _r420_t1.RightSB;
        var r420_Middle = _r420_t1.Middle;
        var r420_CorrectionOMidS = _r420_t1.CorrectionOMidS;
        var _r420_t2 = r420_xn$Capture$2Lrc8.SpiroFns;
        var r420_g4 = _r420_t2.g4;
        var r420_end = _r420_t2.end;
        var r420_widths = _r420_t2.widths;
        var r420_heading = _r420_t2.heading;
        var r420_archv = _r420_t2.archv;
        var r420_arcvh = _r420_t2.arcvh;
        var r420_dispiro = _r420_t2.dispiro;
        var _r420_t3 = r420_xn$Capture$2Lrc8.BooleFns;
        return r420_xn$createAndSaveGlyphImpl$2Lrc3c('modifierArchBreve', 43867, function () {
            var _r423_t1;
            var _r423_t0 = this;
            var r423_currentGlyph = _r423_t0;
            r423_currentGlyph.include(r420_MarkSet.e());
            var r423_archHeight = r420_XH * 0.45;
            r423_currentGlyph.include(r420_dispiro(r420_widths.rhs(), r420_g4.up.start(r420_SB + r420_OX, 0, r420_heading(r420_Upward)), r420_arcvh(), r420_g4.right.mid(r420_Middle - r420_CorrectionOMidS, r423_archHeight), r420_archv(), r420_g4.down.end(r420_RightSB - r420_OX, 0, r420_heading(r420_Downward))));
            r423_currentGlyph.include(r420_dispiro(r420_widths.lhs(), r420_g4.down.start(r420_SB + r420_OX, r420_XH, r420_heading(r420_Downward)), r420_arcvh(), r420_g4.right.mid(r420_Middle + r420_CorrectionOMidS, r420_XH - r423_archHeight), r420_archv(), r420_g4.up.end(r420_RightSB - r420_OX, r420_XH, r420_heading(r420_Upward))));
            return void 0;
        });
    });
    return void 0;
});
